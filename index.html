<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>EcoVision â€“ ë„ì‹œ ê³µê¸°ì§ˆ ëª¨ë‹ˆí„°ë§</title>

<!-- Leaflet ì§€ë„ CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ------------------------------------------------ */
/* ê¸°ë³¸ ì„¤ì • */
/* ------------------------------------------------ */
* {
  margin: 0; padding: 0;
  box-sizing: border-box;
  font-family: 'Noto Sans KR', sans-serif;
}
body {
  background: #f0f4ff;
  color: #1d2a3b;
  overflow-x: hidden;
}

/* ------------------------------------------------ */
/* NAVIGATION */
/* ------------------------------------------------ */
nav {
  width: 100%;
  padding: 18px 50px;
  display: flex; justify-content: space-between; align-items: center;
  background: #0f3c77;
  color: white;
  position: fixed;
  top: 0; left: 0;
  z-index: 1000;
}
nav h1 {
  font-size: 26px;
  font-weight: 700;
}
nav ul {
  display: flex;
  gap: 25px;
}
nav ul li { list-style: none; }
nav ul li a {
  color: #bbd7ff;
  text-decoration: none;
  font-size: 16px;
}

/* ------------------------------------------------ */
/* HERO â€“ ì‹¤ì‹œê°„ PM2.5 í‘œì‹œ */
/* ------------------------------------------------ */
.hero {
  padding-top: 120px;
  text-align: center;
  padding-bottom: 60px;
}
.hero-title {
  font-size: 42px;
  font-weight: 800;
  margin-bottom: 10px;
}
.hero-sub {
  font-size: 20px;
  color: #3b4d63;
  margin-bottom: 20px;
}

/* ê³µê¸°ì§ˆ ë°•ìŠ¤ */
.air-box {
  display: inline-block;
  padding: 25px 40px;
  border-radius: 16px;
  background: white;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
  margin-top: 20px;
  transition: 0.4s;
}
.air-box-value {
  font-size: 60px;
  font-weight: 800;
}
.air-box-grade {
  margin-top: 8px;
  font-size: 22px;
  font-weight: 600;
}

/* ------------------------------------------------ */
/* SECTION ì œëª© */
/* ------------------------------------------------ */
.section-title {
  font-size: 32px;
  margin-bottom: 20px;
}

/* ------------------------------------------------ */
/* ì§€ë„ ì˜ì—­ */
/* ------------------------------------------------ */
#map {
  width: 100%;
  height: 380px;
  border-radius: 16px;
  margin-top: 15px;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
}

/* ------------------------------------------------ */
/* ê·¸ë˜í”„ ì˜ì—­ */
/* ------------------------------------------------ */
.graph-container {
  width: 100%;
  background: white;
  border-radius: 16px;
  padding: 20px;
  margin-top: 20px;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
}

/* ------------------------------------------------ */
/* í–‰ë™ ê°€ì´ë“œ */
/* ------------------------------------------------ */
.guide-box {
  background: white;
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
  margin-top: 25px;
}
.guide-item {
  margin-bottom: 15px;
  padding: 12px 15px;
  border-left: 6px solid #1d2a3b;
  background: #f5f8ff;
  border-radius: 8px;
  font-size: 17px;
}

/* ------------------------------------------------ */
/* ë²„íŠ¼ */
/* ------------------------------------------------ */
button {
  padding: 12px 22px;
  background: #0f3c77;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 20px;
  font-size: 16px;
}
button:hover {
  background: #0a2d5a;
}

/* ------------------------------------------------ */
/* ì „ì²´ ë ˆì´ì•„ì›ƒ */
/* ------------------------------------------------ */
section {
  padding: 40px 70px;
}
</style>
</head>
<body>

<!-- ë„¤ë¹„ê²Œì´ì…˜ -->
<nav>
  <h1>EcoVision</h1>
  <ul>
    <li><a href="#map-section">ê³µê¸°ì§ˆ ì§€ë„</a></li>
    <li><a href="#graph-section">ë¯¸ì„¸ë¨¼ì§€ ê·¸ë˜í”„</a></li>
    <li><a href="#guide-section">í–‰ë™ ê°€ì´ë“œ</a></li>
  </ul>
</nav>

<!-- HERO -->
<section class="hero">
  <h2 class="hero-title">ë„ì‹œ ê³µê¸°ì§ˆì„ í•œëˆˆì— â€” EcoVision</h2>
  <p class="hero-sub">ì˜¤ëŠ˜ì˜ ë„ì‹œ ê³µê¸°, ëˆˆìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš”. ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.</p>

  <div class="air-box" id="airBox">
    <div class="air-box-value" id="pmValue">32</div>
    <div class="air-box-grade" id="pmGrade">ì¢‹ìŒ</div>
  </div>

  <button onclick="refreshData()">ë°ì´í„° ìƒˆë¡œê³ ì¹¨</button>
</section>

<!-- ì§€ë„ Section -->
<section id="map-section">
  <h3 class="section-title">ì‹¤ì‹œê°„ ê³µê¸°ì§ˆ ì§€ë„</h3>
  <p>ì„¼ì„œë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ ì§€ì—­ì˜ ì‹¤ì‹œê°„ PM2.5 ì •ë³´ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>

  <div id="map"></div>
</section>

<!-- ê·¸ë˜í”„ Section -->
<section id="graph-section">
  <h3 class="section-title">24ì‹œê°„ ë¯¸ì„¸ë¨¼ì§€ ë³€í™” ê·¸ë˜í”„</h3>
  <div class="graph-container">
    <canvas id="pmChart"></canvas>
  </div>
</section>

<!-- í–‰ë™ ê°€ì´ë“œ Section -->
<section id="guide-section">
  <h3 class="section-title">ë¯¸ì„¸ë¨¼ì§€ í–‰ë™ ê°€ì´ë“œ</h3>

  <div class="guide-box">
    <div class="guide-item">ì¢‹ìŒ ğŸ˜Š : ì‹¤ì™¸ í™œë™ì— ì í•©í•©ë‹ˆë‹¤.</div>
    <div class="guide-item">ë³´í†µ ğŸ™‚ : í‰ì†Œì²˜ëŸ¼ í™œë™ ê°€ëŠ¥í•˜ì§€ë§Œ ë¯¼ê°êµ°ì€ ì£¼ì˜.</div>
    <div class="guide-item">ë‚˜ì¨ âš  : ì™¸ì¶œ ì‹œ ë§ˆìŠ¤í¬ ì°©ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.</div>
    <div class="guide-item">ë§¤ìš° ë‚˜ì¨ ğŸš¨ : ì™¸ì¶œì„ ìµœì†Œí™”í•˜ê³ , ì‹¤ë‚´ í™˜ê¸°ë¥¼ ìì œí•˜ì„¸ìš”.</div>
  </div>
</section>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
/* ------------------------------------------------------------- */
/* ì‹¤ì‹œê°„ PM2.5 ë°•ìŠ¤ ìƒ‰ìƒ ì—…ë°ì´íŠ¸ */
/* ------------------------------------------------------------- */
function updatePMBox(value) {
  const box = document.getElementById('airBox');
  const grade = document.getElementById('pmGrade');

  document.getElementById('pmValue').textContent = value;

  if (value <= 30) {
    box.style.background = "#b8e8ff";
    grade.textContent = "ì¢‹ìŒ";
  } else if (value <= 80) {
    box.style.background = "#ffe8b8";
    grade.textContent = "ë³´í†µ";
  } else if (value <= 150) {
    box.style.background = "#ffd1b8";
    grade.textContent = "ë‚˜ì¨";
  } else {
    box.style.background = "#ffb8b8";
    grade.textContent = "ë§¤ìš° ë‚˜ì¨";
  }
}

/* ë°ì´í„° ìƒˆë¡œê³ ì¹¨ (ëœë¤ ì‹œë®¬ë ˆì´ì…˜) */
function refreshData() {
  const newPM = Math.floor(Math.random() * 180);
  updatePMBox(newPM);
}

/* ------------------------------------------------------------- */
/* ì§€ë„ ì„¤ì • */
/* ------------------------------------------------------------- */
var map = L.map('map').setView([37.5665, 126.9780], 11);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
}).addTo(map);

/* ì§€ë„ ì„¼ì„œ ë°ì´í„° */
const sensors = [
  { name: "ì¢…ë¡œêµ¬ ì„¼ì„œ", lat: 37.573, lng: 126.979, pm: 45 },
  { name: "ê°•ë‚¨êµ¬ ì„¼ì„œ", lat: 37.497, lng: 127.027, pm: 88 },
  { name: "ë§ˆí¬êµ¬ ì„¼ì„œ", lat: 37.563, lng: 126.908, pm: 120 },
];

sensors.forEach(s => {
  L.marker([s.lat, s.lng]).addTo(map)
    .bindPopup(`${s.name}<br>PM2.5 : ${s.pm}`);
});

/* ------------------------------------------------------------- */
/* Chart.js ê·¸ë˜í”„ */
/* ------------------------------------------------------------- */
const ctx = document.getElementById('pmChart').getContext('2d');

new Chart(ctx, {
  type: 'line',
  data: {
    labels: [...Array(24).keys()],
    datasets: [{
      label: "PM2.5 ë†ë„",
      data: Array.from({length: 24}, () => Math.floor(Math.random() * 150)),
      borderColor: "#0f3c77",
      backgroundColor: "#aaccff",
      tension: 0.3
    }]
  },
  options: {
    responsive: true,
    scales: {
      y: { beginAtZero: true }
    }
  }
});
</script>

</body>
</html>
